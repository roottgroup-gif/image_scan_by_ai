{% extends "base.html" %}

{% block title %}AI Image Detection - Professional AI-Generated Image Verification{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- Hero Section -->
    <section class="text-center mb-16 animate-fade-in">
        <div class="max-w-4xl mx-auto">
            <!-- Main Heading -->
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold mb-6">
                <span class="gradient-text">AI Image Detection</span>
                <br>
                <span class="text-gray-900">Made Professional</span>
            </h1>
            
            <!-- Subtitle -->
            <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed">
                Upload any image and discover if it's AI-generated or authentic using our advanced machine learning algorithms with 
                <span class="font-semibold text-primary-600">96.8% accuracy</span>
            </p>
            
            <!-- Stats Grid -->
            <div class="grid grid-cols-3 gap-8 max-w-2xl mx-auto mb-12">
                <div class="text-center group">
                    <div class="text-3xl lg:text-4xl font-bold text-primary-600 mb-1 group-hover:scale-110 transition-transform duration-300">96.8%</div>
                    <div class="text-sm text-gray-600 font-medium">Accuracy</div>
                </div>
                <div class="text-center group">
                    <div class="text-3xl lg:text-4xl font-bold text-secondary-600 mb-1 group-hover:scale-110 transition-transform duration-300">2.3s</div>
                    <div class="text-sm text-gray-600 font-medium">Avg Speed</div>
                </div>
                <div class="text-center group">
                    <div class="text-3xl lg:text-4xl font-bold text-accent-600 mb-1 group-hover:scale-110 transition-transform duration-300">100%</div>
                    <div class="text-sm text-gray-600 font-medium">Private</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section class="max-w-4xl mx-auto mb-16">
        <div class="glass rounded-3xl p-8 lg:p-12 hover-lift">
            <!-- Upload Area -->
            <div id="upload-container" class="border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center cursor-pointer transition-all duration-300 hover:border-primary-400 hover:bg-primary-50/50" onclick="document.getElementById('file-input').click()">
                
                <div id="upload-prompt" class="flex flex-col items-center">
                    <!-- Upload Icon -->
                    <div class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-6 transition-all duration-300 hover:scale-110 group">
                        <i data-lucide="plus" class="w-12 h-12 text-white group-hover:rotate-90 transition-transform duration-300"></i>
                    </div>
                    
                    <!-- Upload Text -->
                    <h3 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-3">Upload Your Image</h3>
                    <p class="text-gray-600 mb-8 text-lg">
                        Drag and drop an image or click to browse your files
                    </p>
                    
                    <!-- Upload Button -->
                    <button type="button" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-500 to-secondary-500 text-white font-semibold rounded-xl hover:scale-105 transition-all duration-300 space-x-3">
                        <i data-lucide="folder-open" class="w-5 h-5"></i>
                        <span>Choose File</span>
                    </button>
                    
                    <!-- Supported Formats -->
                    <p class="text-sm text-gray-500 mt-6">
                        Supports: PNG, JPG, JPEG, GIF, BMP, WebP â€¢ Max 16MB
                    </p>
                </div>
                
                <!-- Image Preview -->
                <div id="image-preview" class="hidden">
                    <div class="relative max-w-md mx-auto mb-8">
                        <div class="aspect-square rounded-full overflow-hidden bg-gray-100">
                            <img id="preview-image" alt="Preview" class="w-full h-full object-cover">
                        </div>
                        <div class="absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center">
                            <i data-lucide="check" class="w-4 h-4 text-white"></i>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row justify-center gap-4">
                        <button id="analyze-btn" class="inline-flex items-center px-8 py-4 bg-gradient-to-r from-green-500 to-accent-500 text-white font-semibold rounded-xl hover:scale-105 transition-all duration-300 space-x-3">
                            <i data-lucide="search" class="w-5 h-5"></i>
                            <span>Analyze Image</span>
                        </button>
                        <button id="remove-btn" class="inline-flex items-center px-6 py-4 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:scale-105 transition-all duration-300 space-x-2">
                            <i data-lucide="x" class="w-5 h-5"></i>
                            <span>Remove</span>
                        </button>
                    </div>
                </div>
                
                <!-- Loading State -->
                <div id="loading-state" class="hidden text-center">
                    <div class="relative w-20 h-20 mx-auto mb-8">
                        <div class="absolute inset-0 border-4 border-primary-200 rounded-full"></div>
                        <div class="absolute inset-0 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"></div>
                        <div class="absolute inset-2 border-2 border-secondary-300 rounded-full"></div>
                        <div class="absolute inset-2 border-2 border-secondary-500 border-t-transparent rounded-full animate-spin" style="animation-duration: 1.5s; animation-direction: reverse;"></div>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">Analyzing Image...</h3>
                    <p class="text-gray-600 mb-6">
                        Using advanced AI detection algorithms
                    </p>
                    <div class="flex justify-center space-x-2">
                        <div class="w-3 h-3 bg-primary-500 rounded-full animate-bounce" style="animation-delay: 0s;"></div>
                        <div class="w-3 h-3 bg-secondary-500 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
                        <div class="w-3 h-3 bg-accent-500 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                    </div>
                </div>
            </div>
            <input type="file" id="file-input" accept="image/*" class="hidden">
        </div>
    </section>

    <!-- Results Section -->
    <section id="results-section" class="max-w-6xl mx-auto mb-16 hidden">
        <div class="glass rounded-3xl p-8 lg:p-12 animate-scale-in">
            
            <!-- Results Header -->
            <div class="text-center mb-12">
                <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">Analysis Results</h2>
                <p class="text-gray-600 text-lg">Professional AI detection analysis completed</p>
            </div>
            
            <div class="grid lg:grid-cols-2 gap-12 mb-12">
                <!-- Image Display -->
                <div class="space-y-6">
                    <h3 class="text-2xl font-semibold text-gray-900 flex items-center">
                        <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center mr-3">
                            <i data-lucide="image" class="w-5 h-5 text-white"></i>
                        </div>
                        Analyzed Image
                    </h3>
                    
                    <div class="relative">
                        <div id="results-image-container" class="aspect-square rounded-full overflow-hidden bg-gray-100">
                            <img id="results-image" alt="Analyzed image" class="w-full h-full object-cover">
                        </div>
                    </div>
                    
                    <!-- Image Details -->
                    <div class="result-card p-6 hover-lift">
                        <h4 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                            <i data-lucide="info" class="w-5 h-5 text-primary-500"></i>
                            Image Details
                        </h4>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-600">File:</span>
                                <span id="file-name" class="font-medium text-gray-900 truncate ml-2"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Size:</span>
                                <span id="image-size" class="font-medium text-gray-900 ml-2"></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Analysis Results -->
                <div class="space-y-8">
                    <h3 class="text-2xl font-semibold text-gray-900 flex items-center">
                        <div class="w-8 h-8 bg-gradient-to-br from-secondary-500 to-accent-500 rounded-lg flex items-center justify-center mr-3">
                            <i data-lucide="brain" class="w-5 h-5 text-white"></i>
                        </div>
                        Detection Results
                    </h3>
                    
                    <!-- Classification Badge -->
                    <div class="text-center">
                        <div id="result-badge" class="inline-flex items-center gap-3 px-8 py-4 rounded-2xl text-xl font-bold mb-6 transition-all duration-300 hover:scale-105">
                            <i id="result-icon" class="w-8 h-8"></i>
                            <span id="result-text"></span>
                        </div>
                    </div>
                    
                    <!-- Confidence Score -->
                    <div class="result-card p-6 hover-lift">
                        <div class="flex justify-between items-center mb-4">
                            <span class="font-semibold text-gray-900 flex items-center gap-2">
                                <i data-lucide="bar-chart-3" class="w-5 h-5 text-primary-500"></i>
                                Confidence Score
                            </span>
                            <span id="confidence-percentage" class="text-2xl font-bold text-gray-900"></span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-4 mb-4 overflow-hidden progress-track border border-gray-300">
                            <div id="confidence-bar" class="h-4 rounded-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                        </div>
                        <div class="text-sm text-gray-600 flex items-center gap-2">
                            <i data-lucide="clock" class="w-4 h-4"></i>
                            Processing Time: <span id="processing-time" class="font-medium"></span>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button id="download-report-btn" class="flex-1 inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-primary-500 to-secondary-500 text-white font-semibold rounded-xl hover:scale-105 transition-all duration-300 space-x-3">
                            <i data-lucide="download" class="w-5 h-5"></i>
                            <span>Download Report</span>
                        </button>
                        <button id="analyze-another-btn" class="inline-flex items-center justify-center px-6 py-4 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:scale-105 transition-all duration-300 space-x-2">
                            <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                            <span>New Analysis</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Detection Indicators -->
            <div class="border-t border-gray-200 pt-12">
                <h4 class="text-2xl font-semibold text-gray-900 mb-8 flex items-center">
                    <div class="w-8 h-8 bg-gradient-to-br from-accent-500 to-primary-500 rounded-lg flex items-center justify-center mr-3">
                        <i data-lucide="eye" class="w-5 h-5 text-white"></i>
                    </div>
                    Detection Indicators
                </h4>
                <div id="indicators-grid" class="grid md:grid-cols-2 gap-4"></div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="mb-16">
        <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">Why Choose Our AI Detector?</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Advanced technology meets professional design for the most accurate AI image detection available
            </p>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8">
            <div class="glass rounded-2xl p-8 text-center hover-lift transition-all duration-300 animate-slide-up" style="animation-delay: 0.1s;">
                <div class="w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
                    <i data-lucide="shield-check" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">Advanced Detection</h3>
                <p class="text-gray-600 leading-relaxed">
                    State-of-the-art neural networks trained on millions of images for unparalleled accuracy and reliability
                </p>
            </div>
            
            <div class="glass rounded-2xl p-8 text-center hover-lift transition-all duration-300 animate-slide-up" style="animation-delay: 0.2s;">
                <div class="w-16 h-16 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
                    <i data-lucide="zap" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">Lightning Fast</h3>
                <p class="text-gray-600 leading-relaxed">
                    Get professional results in seconds with our optimized processing pipeline and real-time analysis
                </p>
            </div>
            
            <div class="glass rounded-2xl p-8 text-center hover-lift transition-all duration-300 animate-slide-up" style="animation-delay: 0.3s;">
                <div class="w-16 h-16 bg-gradient-to-br from-accent-500 to-accent-600 rounded-2xl flex items-center justify-center mx-auto mb-6">
                    <i data-lucide="lock" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">Privacy First</h3>
                <p class="text-gray-600 leading-relaxed">
                    Your images are processed securely and never stored on our servers. Complete privacy guaranteed
                </p>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="glass rounded-3xl p-8 lg:p-12 mb-16">
        <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">How It Works</h2>
            <p class="text-xl text-gray-600">
                Three simple steps to professional image verification
            </p>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8">
            <div class="text-center group">
                <div class="w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold group-hover:scale-110 transition-transform duration-300">
                    1
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">Upload Image</h3>
                <p class="text-gray-600 leading-relaxed">
                    Drag and drop or select any image file from your device for professional analysis
                </p>
            </div>
            
            <div class="text-center group">
                <div class="w-20 h-20 bg-gradient-to-br from-secondary-500 to-secondary-600 rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold group-hover:scale-110 transition-transform duration-300">
                    2
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">AI Analysis</h3>
                <p class="text-gray-600 leading-relaxed">
                    Our advanced algorithms analyze the image for AI generation markers and artifacts
                </p>
            </div>
            
            <div class="text-center group">
                <div class="w-20 h-20 bg-gradient-to-br from-accent-500 to-accent-600 rounded-full flex items-center justify-center mx-auto mb-6 text-white text-2xl font-bold group-hover:scale-110 transition-transform duration-300">
                    3
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-4">Get Results</h3>
                <p class="text-gray-600 leading-relaxed">
                    Receive detailed analysis with confidence scores and professional downloadable reports
                </p>
            </div>
        </div>
    </section>
</div>

<!-- Compact Analysis Modal -->
<div id="analysis-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-slate-900/80 backdrop-blur-lg animate-fade-in"></div>
    <div class="relative flex items-center justify-center min-h-screen p-4">
        <div class="relative bg-white/95 backdrop-blur-xl rounded-2xl p-6 sm:p-8 w-full max-w-md sm:max-w-lg border border-white/40 transform animate-modal-entrance overflow-hidden">
            <div class="relative text-center z-10">
                <!-- Compact animated icon -->
                <div class="relative w-16 h-16 mx-auto mb-6">
                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full animate-spin-slow"></div>
                    <div class="absolute inset-1 bg-white rounded-full flex items-center justify-center">
                        <i data-lucide="brain" class="w-8 h-8 text-blue-600 animate-pulse"></i>
                    </div>
                </div>
                
                <!-- Compact title -->
                <h3 class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4">Analyzing Your Image</h3>
                
                <!-- Compact subtitle -->
                <p class="text-gray-700 text-sm sm:text-base mb-6 px-2">
                    AI examining your image for authenticity markers
                </p>
                
                <!-- Compact analysis steps -->
                <div class="space-y-3 mb-8">
                    <!-- Step 1: Deep Learning -->
                    <div class="flex items-center gap-3 p-3 rounded-lg bg-blue-50/80 border border-blue-200">
                        <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                            <i data-lucide="eye" class="w-4 h-4 text-white"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="text-sm font-semibold text-blue-900">Deep Learning Analysis</h4>
                            <p class="text-xs text-blue-700">Neural network processing</p>
                        </div>
                        <div class="w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                    </div>
                    
                    <!-- Step 2: Pattern Recognition -->
                    <div class="flex items-center gap-3 p-3 rounded-lg bg-purple-50/80 border border-purple-200">
                        <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center">
                            <i data-lucide="scan" class="w-4 h-4 text-white"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="text-sm font-semibold text-purple-900">Pattern Recognition</h4>
                            <p class="text-xs text-purple-700">Analyzing artifacts</p>
                        </div>
                        <div class="w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"></div>
                    </div>
                    
                    <!-- Step 3: Final Assessment -->
                    <div class="flex items-center gap-3 p-3 rounded-lg bg-emerald-50/80 border border-emerald-200">
                        <div class="w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center">
                            <i data-lucide="check-circle" class="w-4 h-4 text-white"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="text-sm font-semibold text-emerald-900">Final Assessment</h4>
                            <p class="text-xs text-emerald-700">Generating results</p>
                        </div>
                        <div class="w-4 h-4 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"></div>
                    </div>
                </div>
                
                <!-- Compact countdown section -->
                <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                    <div class="text-center">
                        <div class="text-lg font-semibold text-gray-800 mb-3">
                            Analysis completing in
                        </div>
                        <div class="flex items-center justify-center gap-2 mb-4">
                            <span id="countdown" class="text-4xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">5</span>
                            <span class="text-lg font-medium text-gray-600">seconds</span>
                        </div>
                        <!-- Compact progress bar -->
                        <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden mb-3">
                            <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full animate-progress-fill"></div>
                        </div>
                        <!-- Status text -->
                        <div class="text-center text-gray-600 text-sm">
                            Processing with AI algorithms...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Report Modal -->
<div id="report-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
    <div class="relative flex items-center justify-center min-h-screen p-4">
        <div class="glass rounded-3xl p-8 w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-900">Download Professional Report</h3>
                <button id="close-report-modal" class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="file-text" class="w-8 h-8 text-white"></i>
                </div>
                <p class="text-gray-600">
                    Generate a comprehensive PDF report with detailed analysis, technical specifications, and professional formatting
                </p>
            </div>
            
            <div class="flex gap-3">
                <button id="generate-report-btn" class="flex-1 inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-primary-500 to-secondary-500 text-white font-semibold rounded-xl hover:scale-105 transition-all duration-300">
                    Generate Report
                </button>
                <button id="cancel-report" class="px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:scale-105 transition-all duration-300">
                    Cancel
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='home.js') }}"></script>
{% endblock %}